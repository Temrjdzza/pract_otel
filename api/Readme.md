# Документация API системы бронирования отелей

## Общее описание

Система предоставляет REST API для управления бронированием номеров в отеле. API поддерживает два основных эндпоинта: один для получения списка доступных номеров с возможностью фильтрации и сортировки, другой для создания новых бронирований.

## Эндпоинты


### 1. Получение списка номеров

```
GET /api/router.php/rooms
```

Параметры запроса:

| Параметр  | Тип     | Описание                  | Пример значения                  |
|-----------|---------|---------------------------|----------------------------------|
| room_type | string  | Тип номера для фильтрации | "люкс"                           |
| price     | decimal | Диапазон цен (мин-макс)   | "1000-5000"                      |
| capacity  | integer | Количество спальных мест  | 2                                |
| sort      | string  | Поле для сортировки       | "room_type", "price", "capacity" |
| order     | string  | Направление сортировки    | "asc", "desc"                    |

Пример запроса:

```
GET /api/router.php/rooms?room_type=люкс&price=1000-5000&capacity=2&sort=price&order=asc
```

Ответ:


```json
{
  "status": "success",
  "data": [
    {
      "room_id": 1,
      "room_type": "люкс",
      "price": 3000,
      "capacity": 2,
      "booked": false,
      "created_at": "2025-06-09 20:30:00",
      "updated_at": "2025-06-12 20:55:34"
    }
  ]
}
```

### 2. Создание брони
```
POST /api/router.php/roomReservation
```

Параметры запроса:

| Параметр | Тип     | Описание            | Пример значения        |
|----------|---------|---------------------|------------------------|
| id       | integer | ID номера для брони | 1                      |
| fio      | string  | ФИО бронировщика    | "Иванов Иван Иванович" |

Пример запроса:

```
POST /api/router.php/roomReservation?id=1&fio=Иванов+Иван+Иванович
```

Ответ при успешной бронировании:

```json
{
    "status": "success",
    "data": [
        {
            "room_id": "1",
            "room_type": "Люкс",
            "price": "15000.00",
            "capacity": "2",
            "description": "Президентский номер с видом на город",
            "booked": "Иванов Иван Иванович",
            "created_at": "2025-06-09 20:30:00",
            "updated_at": "2025-06-12 21:24:48"
        }
    ]
}
```

## Коды ошибок

| Код | Описание                                      |
|-----|-----------------------------------------------|
| 200 | Успешный запрос                               |
| 400 | Неверные параметры или номер уже забронирован |
| 404 | Эндпоинт не найден                            |
| 500 | Внутренняя ошибка сервера                     |

